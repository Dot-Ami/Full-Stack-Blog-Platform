@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-slate-200 dark:border-slate-700;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply text-slate-900 dark:text-slate-100 antialiased;
    @apply bg-slate-50 dark:bg-slate-900;
    font-feature-settings: "cv11", "ss01";
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  ::selection {
    @apply bg-indigo-200 text-indigo-900 dark:bg-indigo-800 dark:text-indigo-100;
  }
}

@layer components {
  .prose {
    @apply text-slate-700 dark:text-slate-300;
  }

  .prose h1,
  .prose h2,
  .prose h3 {
    @apply text-slate-900 dark:text-slate-100 font-bold tracking-tight;
  }

  .prose a {
    @apply text-indigo-600 dark:text-indigo-400 no-underline hover:underline;
  }

  .prose code {
    @apply bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-sm font-mono;
  }

  .prose pre {
    @apply bg-slate-900 dark:bg-slate-950 rounded-xl overflow-x-auto;
  }

  .prose pre code {
    @apply bg-transparent p-0;
  }

  .prose blockquote {
    @apply border-l-4 border-indigo-500 bg-slate-50 dark:bg-slate-800 py-1 px-4 not-italic rounded-r-lg;
  }

  .prose img {
    @apply rounded-xl shadow-lg;
  }

  /* TipTap placeholder */
  .tiptap p.is-editor-empty:first-child::before {
    @apply text-slate-400 dark:text-slate-500 float-left h-0 pointer-events-none;
    content: attr(data-placeholder);
  }

  /* Focus ring for better accessibility */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900;
  }
}

@layer utilities {
  .animate-in {
    animation: animate-in 0.2s ease-out;
  }

  .fade-in {
    animation: fade-in 0.2s ease-out;
  }

  .slide-in-from-top-2 {
    --tw-translate-y: -0.5rem;
    animation: slide-in-from-top 0.2s ease-out forwards;
  }

  .slide-in-from-bottom-4 {
    --tw-translate-y: 1rem;
    animation: slide-in-from-bottom 0.2s ease-out forwards;
  }

  .slide-in-from-right-full {
    --tw-translate-x: 100%;
    animation: slide-in-from-right 0.3s ease-out forwards;
  }

  .zoom-in-95 {
    animation: zoom-in 0.2s ease-out forwards;
  }

  @keyframes animate-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slide-in-from-top {
    from {
      opacity: 0;
      transform: translateY(-0.5rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-in-from-bottom {
    from {
      opacity: 0;
      transform: translateY(1rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-in-from-right {
    from {
      opacity: 0;
      transform: translateX(100%);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes zoom-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
}

/* Prism.js Syntax Highlighting Theme (One Dark) */
@layer components {
  code[class*="language-"],
  pre[class*="language-"] {
    @apply text-slate-100 text-sm font-mono leading-relaxed;
    text-shadow: none;
    direction: ltr;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    tab-size: 2;
    hyphens: none;
  }

  pre[class*="language-"] {
    @apply p-4 overflow-x-auto rounded-xl bg-slate-900 dark:bg-slate-950;
  }

  :not(pre) > code[class*="language-"] {
    @apply px-1.5 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200;
    white-space: normal;
  }

  /* Token colors */
  .token.comment,
  .token.prolog,
  .token.doctype,
  .token.cdata {
    @apply text-slate-500;
  }

  .token.punctuation {
    @apply text-slate-400;
  }

  .token.property,
  .token.tag,
  .token.boolean,
  .token.number,
  .token.constant,
  .token.symbol,
  .token.deleted {
    @apply text-rose-400;
  }

  .token.selector,
  .token.attr-name,
  .token.string,
  .token.char,
  .token.builtin,
  .token.inserted {
    @apply text-emerald-400;
  }

  .token.operator,
  .token.entity,
  .token.url,
  .language-css .token.string,
  .style .token.string {
    @apply text-amber-400;
  }

  .token.atrule,
  .token.attr-value,
  .token.keyword {
    @apply text-purple-400;
  }

  .token.function,
  .token.class-name {
    @apply text-sky-400;
  }

  .token.regex,
  .token.important,
  .token.variable {
    @apply text-amber-300;
  }

  .token.important,
  .token.bold {
    font-weight: bold;
  }

  .token.italic {
    font-style: italic;
  }

  .token.entity {
    cursor: help;
  }
}
